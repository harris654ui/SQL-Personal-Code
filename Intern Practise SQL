  
> Feasibility Study
  ******************

1.  Table Name : Branch

- Branch Code  Varchar(3) PK
- Branch Name  Varchar2(100)
- City         Varchar(100)     
- Type         Char(1)

- Difference between Varchar And Char   

2.  CUSTOMER INFORMATION

- CUSTOMER_No        Int PK
- Customer Name      Varchar2(100)
- Branch code        Varchar2(3) FK
- Customer Type      Varchar2(10)
- Unique ID Name     Varchar2(20)
- Unique_id_value    Varchar2(30)
- Current Address    Varchar2(100)
- CIF Creation date  Date
- Maker ID           Varchar2(100)
- Checker ID         Varchar2(100)


3.  PERSONAL INFORMATION

- CUSTOMER_No FK
- Date of birth         Date
- First Name           Varchar2(50)
- Middle Name          Varchar2(50)
- Last Name            Varchar2(50)
- Gender               Varchar2(10)
- Mobile               INT PK
- Email                Varchar2(50)
- Current home address Varchar2(100)
- Previous home address Varchar2(100)
- Office address       Varchar2(100)


4.  DOMESTIC (Family Details)

- CUSTOMER_No  FK
- Marital status    Boolean
- Spouse name       Varchar(50)
- Mother Name       Varchar(50)
- Father Name       Varchar(50)


5.  Account Detials

- CUSTOMER NO FK            INT
- ACCOUNT NO  PK            Varchar(20)
- Branch code FK            Varchar(10)
- ACCOUNT CLASS             Varchar(10)
- CURRENCY                  char(3)
- ACCOUNT OPENING           DATE DATE
- ACCOUNT CURRENT BALANCE   DECIMAL
- LAST TRANSACTION CREDIT   DATE DATE
- LAST TRANSACTION DEBIT    DATE DATE
- Account Status (OPen/CLose) Boolean
- Dormant                     BOOLEAN
- No Debit Flag               BOOLEAN
- No Credit Flag              BOOLEAN
- Maker ID                    INT
- Checker ID                  INT


6. Debit Cards

- Account No FK         INT
- Debit Card No PK      Varchar(20)
- Debit Card Status     Varchar(10)
- Debit Card Creation   Date DATE
- Debit Card Activation Date DATE
- Maker ID              INT
- Checker ID            INT

7. Debit Card Logs

- ActivityLogID     Varchar2(20) 
- Debit Card No FK  Varchar2(20)
- From Status       Varchar(10)
- New Status        Varchar(10)
- Activity Date     Date
- User Id           Int


> Design Phase (Database Design/Physical Design/Database Structure)
  *****************************************************************

1. Branch Table Design

--Select * From INTERN.branch

--Drop Table INTERN.branch

CREATE TABLE INTERN.branch (
    branch_code VARCHAR2(3),
    branch_name VARCHAR2(100),
    city        VARCHAR2(100),
    type        CHAR(100),
    Constraint branch_IDX PRIMARY KEY(BRANCH_CODE)
)

INSERT INTO branch Values('01','E-11 Markaz','Islamabad','Head office');

--Select * from branch;


2. Customer Information Table Design:


CREATE TABLE INTERN.customerinfo
(
   CUSTOMER_No         INT ,
   Customer_Name       VARCHAR2 (100),
   Branch_code         VARCHAR2 (3),
   Customer_Type       VARCHAR2 (10),
   Unique_ID_Name      VARCHAR2 (20),
   Unique_id_value     VARCHAR2 (30),
   Current_Address     VARCHAR2 (100),
   CIF_Creation_date   DATE,
   Maker_ID            VARCHAR2 (20),
   Checker_ID          VARCHAR2 (20),
   Constraint customer_IDX PRIMARY KEY(CUSTOMER_NO)
);
--Drop Table INTERN.customerinfo;
3.  Personal Information Table Design

CREATE TABLE INTERN.personalinfo
(
   CUSTOMER_No             VARCHAR2 (50),
   DOB                     DATE,
   First_Name              VARCHAR2 (50),
   Middle_Name             VARCHAR2 (50),
   Last_Name               VARCHAR2 (50),
   Gender                  VARCHAR2 (10),
   Mobile                  INT ,
   Email                   VARCHAR2 (50),
   Current_home_address    VARCHAR2 (100),
   Previous_home_address   VARCHAR2 (100),
   Office_address          VARCHAR2 (100),
   Constraint personal_IDX PRIMARY KEY(Mobile)
);
;
4. Domestic Table Design

/* Formatted on 1/14/2026 8:37:25 PM (QP5 v5.252.13127.32867) */
CREATE TABLE INTERN.Domestic
(
   CUSTOMER_No      VARCHAR2 (20),
   Marital_status   CHAR (1),
   Spouse_name      VARCHAR2 (50),
   Mother_Name      VARCHAR2 (50),
   Father_Name      VARCHAR (50)
);

5. Account Details Table Design

/* Formatted on 1/14/2026 8:45:26 PM (QP5 v5.252.13127.32867) */
CREATE TABLE INTERN.Acc_Det
(
   CUSTOMER_NO                    INT,
   ACCOUNT_NO                     VARCHAR (20) ,
   Branch_code                    VARCHAR (10),
   ACCOUNT_CLASS                  VARCHAR (10),
   CURRENCY                       CHAR (3),
   ACCOUNT_OPENING_DATE           DATE,
   ACCOUNT_CURRENT_BALANCE        DECIMAL,
   LAST_TRANSACTION_CREDIT_DATE   DATE,
   LAST_TRANSACTION_DEBIT_DATE    DATE,
   Account_Status                 CHAR (1),
   Dormant                        CHAR (1),
   No_Debit_Flag                  CHAR (1),
   No_Credit_Flag                 CHAR (1),
   Maker_ID                       INT,
   Checker_ID                     INT,
   Constraint account_IDX PRIMARY KEY(account_no)
);


6. Debit Card Table Design

CREATE TABLE INTERN.Debit_card
(
   Account_No              VARCHAR(20),
   Debit_Card_No           VARCHAR2(20),
   Debit_Card_Status       VARCHAR2(10),
   Debit_Card_Creation     DATE,
   Debit_Card_Activation   DATE,
   Maker_ID                VARCHAR2(20),
   Checker_ID              VARCHAR2(20),
   Constraint debit_IDX PRIMARY KEY (Debit_Card_No)
);
drop table intern.debit_card;

7. Debit Card Information Table Design

/* Formatted on 1/14/2026 9:33:26 PM (QP5 v5.252.13127.32867) */
CREATE TABLE INTERN.debit_info
(
   ActivityLogID   VARCHAR2 (20),
   Debit_Card_No   VARCHAR2 (20),
   From_Status     VARCHAR (10),
   New_Status      VARCHAR (10),
   Activity_Date   DATE,
   User_Id         INT
);


*********************************************************************************


-- Verify Data 

Select * From INTERN.branch ;

Select * From INTERN.customerinfo ;

Select * From INTERN.personalinfo ;

Select * From INTERN.domestic ;

Select * From INTERN.acc_det ;

Select * From INTERN.debit_card ;

Select * From INTERN.debit_info ;

******************************************************************************************

---Single Row Function in Oracle SQL


select branch_code from intern.branch;

select customer_name from intern.customerinfo;

select account_no from intern.acc_det;

select father_name from intern.domestic;

select marital_status from intern.domestic;

select mother_name from intern.domestic;
************************************

-*1/19/2026

Single Row Functions
--------------------
--INSTR ? finds the POSITION

--SUBSTR ? extracts the VALUE
** Alias

Select  
'Hello! H@rri$.**' Str,
Length('Hello! H@rri$.**') "Len gth"
From    Dual;


(1) - Substr --finds the value from a given position in a string.


--** First 2 characters from string

select 'Hel#lo! H@rri$.**' as Str,
Length('Hel#lo! H@rri$.**') as  "Len gth",
substr('Hel#lo! H@rri$.**',7,2) as "First 2 chars"
From    Dual;

--substr syntax SUBSTR(string, start_position, length)
            -- e.g SUBSTR('Hel#lo! H@rri$.**',7,2). 
            -- 7 is the starting position, 2 is the no of characters to return.

** Last 2 Charaters from String

select 'Hel#lo! H@rri$.**' as Str,
Length('Hel#lo! H@rri$.**') as "Length",
substr('Hel#lo! H@rri$.**',-2) as "Final 2 chars"
from dual;


** Characters from MId in a string
select 'Hel#lo! H@rri$.**' as Str,
Length('Hel#lo! H@rri$.**') as "Length",
substr('Hel#lo! H@rri$.**',5,2) as "Middle 2 chars"
from dual;

(2) - Instr -- finds the POSITION from a value in a string

** Find Position of any character in a string

select 'Hel#lo! H@rri$.**' as Str,
Length('Hel#lo! H@rri$.**') as "Length",
instr('Hel#lo! H@rri$.**','@') as "Position of @"
from dual;

--substr syntax INSTR(string,character value)
            -- e.g INSTR('Hel#lo! H@rri$.**',@). 
            -- @ is the character value whose position we want to find.

** Find 3rd instance of r in a string

select 'Hel#lo! H@rri$.**' as Str,
Length('Hel#lo! H@rri$.**') as "Length",
instr('Hel#lo! H@rri$.**','r',3) as "Position of 3rd instance of R"
from dual;


--(3) -  Length: Length return the number of characters inside a string value.



--(4) -  Replace: Replace any character in a string with another character
select 'Hel#lo! H@rri$.**' as Str, 
Length('Hel#lo! H@rri$.**') as "Length",
replace('Hel#lo! H@rri$.**','#','') as "Replaced character"
from dual;

-- Replace syntax:REPLACE(string, old_value, new_value)

--(5) - TRIM: Trim length of string/variable

select 'Hel#lo! H@rri$.**' as Str, 
Length('Hel#lo! H@rri$.**') as "Length",
trim('*' from 'Hel#lo! H@rri$.**') as "trimmed"
from dual;

--Trim syntax: TRIM([LEADING | TRAILING | BOTH] trim_character FROM string)


--6) - LTRIM/ RTRIM:

SELECT 'Hel#lo! H@rri$.**' AS Str,
       LENGTH('Hel#lo! H@rri$.**') AS "Le ngth",
       LTRIM('Hel#lo! H@rri$.**', 'H') AS "LTRIMmed",
       RTRIM('Hel#lo! H@rri$.**', '*') AS "RTRIMmed"
FROM dual;

---LTrim/RTrim:Removes any characters in set_of_characters from the LEFT/start or RIGHT/end of the string

(7) - LPAD/RPAD

SELECT 'Hel#lo! H@rri$.**' AS Str,
       LENGTH('Hel#lo! H@rri$.**') AS "Length",
       LPAD('Hel#lo! H@rri$.**', 30, '*') AS "LPADded",
       RPAD('Hel#lo! H@rri$.**', 30, '*') AS "RPADded"
FROM dual;

-- LPad/Rpad the string on the LEFT/Right with pad_string until it reaches total_length



(8) - REGEX : Replace any unwanted characters from a string

SELECT 'Hel#lo! H@rri$.**' AS Str,
       LENGTH('Hel#lo! H@rri$.**') AS "Le ngth",
       REGEXP_REPLACE('Hel#lo! H@rri$.**', '[^A-Za-z0-9 ]', '') AS "Cleaned"
FROM dual;

--Regex removes all unwanted characters from a string . [^A-Za-z0-9 ] removes all numbers, letters and spaces from my string.


- Practice Questions:

** Find month from date

Select sysdate AS Today,
extract (month from sysdate) as "Month Date"
FROM dual;

SELECT DATE '2026-01-18' AS ,
extract (month from DATE '2026-01-18' ) as "Month Date"
FROM dual;



** Find year from date

Select sysdate as Today,
extract (year from sysdate) as "Year Date"
from dual;

** Find day from date

Select sysdate as Today,
extract (day from sysdate) as "Day Date"
from dual;

** Add_Months

Select sysdate as Today,
extract (month from sysdate) as "Day Date"
from dual;

** Day In String

SELECT SYSDATE AS Today,
       TO_CHAR(SYSDATE, 'DAY') AS "Day Name"
FROM dual;


(1) - IN: Allows you to specify multiple values in a where clause.

select * from intern.customerinfo
where customer_type in ('Individual');--find rows where customer type is individual



** NOT IN 


(2) -  LIKE: is used in a SQL where clause to search for a specified pattern in a column.

select * from intern.customerinfo
where customer_name LIKE '%a'; -- FIND CUSTOMERS that name starts with 'a' 

** NOT LIKE

select * from intern.customerinfo
where customer_name not LIKE 'a%';

(3) - BETWEEN: selects values in a given range 

select * from intern.customerinfo
where branch_code between 1 and 2;

** NOT BETWEEN

select * from intern.customerinfo
where branch_code not between 1 and 2;

(4) - Exists: is used to test for the existence of any record in a subquery.

SELECT column_name(s)
FROM table_name
WHERE EXISTS
(SELECT column_name FROM table_name WHERE condition)

**************************

- SQL Aggregate Functions: are often used with the GROUP BY clause of the SELECT statement.

MIN() - returns the smallest value within the selected column
MAX() - returns the largest value within the selected column
COUNT() - returns the number of rows in a set
SUM() - returns the total sum of a numerical column
AVG() - returns the average value of a numerical column


select min(branch_code) from intern.acc_det;


- SQL Group by function: often used with aggregate functions to group columns.

select * from intern.acc_Det;

select count(account_class) "no_of_accounts",account_class from intern.acc_Det
group by account_class;


select* from intern.customerinfo
where customer_type = 'Individual';


********************************
Select

Branch_Code,  

CUST_AC_NO,

CCY,

AC_DESC,

UPPER(AC_DESC) "Upper",

LOWER(AC_DESC) "Lower",

INITCAP(AC_DESC) "InitCap",

CASE

WHEN CCY='PKR' THEN 'Pakistan'

WHEN CCY='USD' THEN 'America'

Else 'Others'

END "Case",

DECODE(CCY,'PKR','Pakistan','Non-Pakistani') "Decode",

AC_STAT_BLOCK ,

NVL(AC_STAT_BLOCK,'@') "NVL",

NVL2(AC_STAT_BLOCK,'@','$') "NVL2"

From     Flexcube.sttm_cust_Account

Where   LENGTH(AC_DESC)<=20

And      CCY IN ('PKR','USD')

And      Branch_Code NOT Between '001' AND '101'

And      UPPER(AC_DESC) LIKE '%ALI%'

- UPPER: converts text to uppercase
- LOWER: converts text to lower
- INITCAP: capitalizes the first letter of each word
- CASE: conditional logic
- DECODE: orace specific conditional function, similar to case
- NVL: replaces NULL with any specified value
- NVL2
- LENGTH: return the length of a string
- MINUS: Returns rows from the first query that do NOT exist in the second query.

- UNION: Combines the result sets of two or more SELECT statements and removes duplicate rows
- UNION ALL doesnt remove duplicate rows

 

select first_name,last_name,salary, 
case
when salary > 10000 then 'High'
when salary >=5000 and salary <=10000 then 'Medium'
else 'Low'
END as "SAl"
from hr.employees;

select department_id,department_name,
case
when location_id = 1400 then 'US Based Location'
else 'Other Regions'
end case
from hr.departments
where location_id = 1400;


Select Employee_id,First_Name From hr.Employees
union
Select Employee_id,First_Name From hr.Employees

Select Employee_id,First_Name From hr.Employees
union All
Select Employee_id,First_Name From hr.Employees


Select JOB_ID 
From   hr.Employees
Where  Department_ID=110
MINUS
Select JOB_ID
From   hr.Employees
Where   Department_ID=90 


Create OR Replace View EMP_HARRIS AS
Select EMPLOYEE_ID,First_Name,Last_Name,Email,JOB_ID 
From   Hr.EMPLOYEES


Select *
From   EMP_HARRIS


Create OR Replace View EMP_HARRIS_SAL AS
Select Department_ID ,SUM(SALARY) SAL
From   Hr.EMPLOYEES
Group by  Department_ID


Select * 
From   EMP_HARRIS_SAL

Simple View
Complex View
Materialized View [Self]



-- Subqueries
-Select
-From
-Where
-Having



Select *
From   HR.EMPLOYEES
Where Department_ID = (
                        Select Department_id 
                        From   HR.DEPARTMENTS
                        Where  Department_name='Human Resources'
                      )
                      

Select *
From   HR.EMPLOYEES
Where Department_ID =
                    (
                    Select Department_Id
                    From   HR.DEPARTMENTS
                    Where  Department_name IN ('Human Resources','Marketing')
                    )
                    

 

Select *
From   HR.EMPLOYEES
Where Department_ID IN
                    (
                    Select Department_Id
                    From   HR.DEPARTMENTS
                    Where  Department_name IN ('Human Resources','Marketing')
                    )
                    
                    
-- Correlated Subquery
Select 
Emp.*,
(Select Department_Name  From   HR.DEPARTMENTS Dep Where  Dep.Department_ID=Emp.Department_ID) DName,
SALARY
From   HR.EMPLOYEES Emp 


Select Department_ID, SUM(SALARY)
From   HR.EMPLOYEES Emp 
Group by Department_ID
Having SUM(SALARY)<=50000


Select Department_Name
From   HR.DEPARTMENTS
Where  Department_ID=90
                                 


*********************
-  Joins: 

Select 
Emp.*,
SALARY,
Department_Name
From   HR.EMPLOYEES Emp JOIN (Select Department_ID,Department_Name  
                              From   HR.DEPARTMENTS  
                             ) Dep ON (Dep.Department_ID=Emp.Department_ID)

                                                                       
